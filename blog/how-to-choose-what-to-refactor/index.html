<!DOCTYPE html><html lang="en"><head><title>How to choose what to refactor | mokacoding</title><meta name="description" content="A way to identify the areas of code to refactor with the highest return of investment using the &quot;focusing question&quot; technique."><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"><!-- Canonical URL--><link rel="canonical" href="https://mokacoding.com/blog/how-to-choose-what-to-refactor/"><!-- Open Graph meta tags--><meta property="og:title" content="How to choose what to refactor"><meta property="og:description" content="A way to identify the areas of code to refactor with the highest return of investment using the &quot;focusing question&quot; technique."><meta property="og:url" content="https://mokacoding.com/blog/how-to-choose-what-to-refactor/"><meta property="og:type" content="article"><meta property="og:site_name" content="mokacoding"><meta property="og:image" content="https://s3.amazonaws.com/mokacoding/mokacoding_og_image.jpg"><!-- Twitter meta tags--><meta property="twitter:card" content="summary"><meta property="twitter:title" content="How to choose what to refactor"><meta property="twitter:site" content="@mokacoding"><meta property="twitter:creator" content="@mokagio"><!-- Stylesheets--><link href="/css/griddy.css" rel="stylesheet"><link href="/css/style.css" rel="stylesheet"><link href="/css/font-awesome.min.css" rel="stylesheet"><link href="/css/zenburn.css" rel="stylesheet"><!-- FavIcon--><!-- Thanks to https://www.favicon-generator.org/ & https://html2jade.org/--><link rel="apple-touch-icon" sizes="57x57" href="https://s3.amazonaws.com/mokacoding/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="https://s3.amazonaws.com/mokacoding/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="https://s3.amazonaws.com/mokacoding/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="https://s3.amazonaws.com/mokacoding/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="https://s3.amazonaws.com/mokacoding/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="https://s3.amazonaws.com/mokacoding/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="https://s3.amazonaws.com/mokacoding/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="https://s3.amazonaws.com/mokacoding/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="https://s3.amazonaws.com/mokacoding/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="https://s3.amazonaws.com/mokacoding/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="https://s3.amazonaws.com/mokacoding/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="https://s3.amazonaws.com/mokacoding/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="https://s3.amazonaws.com/mokacoding/favicon-16x16.png"><link rel="manifest" href="https://s3.amazonaws.com/mokacoding/manifest.json"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="https://s3.amazonaws.com/mokacoding/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><!-- SumoMe--><script src="//load.sumome.com/" data-sumo-site-id="dd80959300db03e20c8bc3dd899f1424fd764d261e6c3c41923c96482a270dba" async="async"></script></head><body><!-- Use this to render an extra header in special occasions--><div class="special-header"><div class="page"><div class="row-12"><div class="col-12"><p><!-- - Saving this for later and to avoid a `git revert`:markdown
  [What is your biggest struggle right now with building software?](https://goo.gl/forms/lCLlJd9hqCUYoTME2)--><p><a href="https://tddinswift.com?utm_source=mokacoding-site&amp;utm_campaign=coming-soon&amp;utm_medium=sticky-header">Avilable Now: <strong>Test-Driven Development in Swift with SwiftUI and Combine</strong></a></p>
</p></div></div></div></div><div class="page"><div class="row-12"><div class="col-12 header"><h1 class="brand"><a href="/">mokacoding</a></h1><div class="punchline">unit and acceptance testing, automation, productivity</div><div class="links"><a href="/archive.html">Archive</a><a href="/tags.html">Tags</a><a href="https://gio.codes">About</a><a href="#subscribe">Subscribe</a><a href="/feed.xml"><i class="fa fa-rss"></i></a></div></div><div class="col-12"><div class="post-container"><h2 class="post-title"><a href="/blog/how-to-choose-what-to-refactor">How to choose what to refactor</a></h2><p class="post-meta"><span class="post-date">Tue Sep 04 2018&nbsp;</span><a href="/tag/Refactoring/index.html" class="post-tag">-Refactoring</a><a href="/tag/Books/index.html" class="post-tag">-Books</a><a href="/tag/Productivity/index.html" class="post-tag">-Productivity</a></p><div class="post"><p>In his book <a href="https://geni.us/tgjnLb">The ONE Thing</a> author Gary Keller defines a technique for identifying the most valuable work called <em>focusing question</em>.</p>
<blockquote>
<p><strong>What is the one thing you can do right now for <code>&lt;x&gt;</code> that will make everything else easier or unnecessary?</strong></p>
</blockquote>
<p>It&#39;s a simple yet powerful tool. You can use it to discover the best thing to work on next. It&#39;s an exercise that makes you re-frame your list of possible tasks in the context of <strong>how actionable they are right now, and what impact they&#39;ll have</strong>.</p>
<p>You can read more about how to apply the focusing question in <a href="https://mokacoding.com/blog/the-focusing-question/">this post</a>. This technique is also valuable when thinking about <strong>refactoring</strong>.</p>
<p>When starting to work on a new feature or task look at the code you have and ask yourself if there is <strong>something that if improved would make the rest of the work for this project easier or unnecessary</strong>.</p>
<p>Have a look at the areas of code that you will be interacting with.</p>
<ul>
<li>Is everything you&#39;ll need available already? You might need to <a href="https://refactoring.com/catalog/extractMethod.html">extract a method</a>, or <a href="https://refactoring.com/catalog/extractClass.html">a class</a>, or make a parameter injectable.</li>
<li>Is there some duplication that could be removed so it doesn&#39;t get in your way?</li>
<li>Is the type signature of the components involved strong enough?</li>
<li>Are there unit tests in place that will ensure your changes won&#39;t accidentally break the components involved?</li>
</ul>
<p>When applying the focusing question to identify refactoring opportunities it is important to remember the &quot;for <code>&lt;x&gt;</code>&quot; part. Don&#39;t look for generic improvements, only for changes making the execution of the project you are working on easier.</p>
<p>I&#39;m not trying to discourage you from improving your codebase. &quot;Leave the codebase better then you found it&quot;, right? I want you to stay focused on the job ahead though. Don&#39;t write code for code sake, there needs to be purpose behind what you do. You can collect all the other improvement ideas in your project&#39;s issue tracker or in a Trello board.</p>
<p>Once you have implemented the changes identified with the focusing question, submit them in a <strong>dedicated PR</strong>. It will help your team review them, and ensure they are real refactors, that is, changes to the code implementation that don&#39;t affect its behaviour.</p>
<p>Remember Kent Beck&#39;s advice: first make the change easy (warning: this might be hard), then make the easy change.</p>
<p><blockquote class="twitter-tweet" data-lang="en"><p lang="en" dir="ltr">for each desired change, make the change easy (warning: this may be hard), then make the easy change</p>&mdash; Kent Beck (@KentBeck) <a href="https://twitter.com/KentBeck/status/250733358307500032?ref_src=twsrc%5Etfw">September 25, 2012</a></blockquote></p>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<hr>
<p>It&#39;s easy to get lost and sidetracked while refactoring. We always want to make things better, and there is always room for improvement. A pragmatic developer is one able to identify those improvements that will deliver value right now from the vanity ones.</p>
<p>Is the refactoring work you are about to begin going to benefit the customers? Will it make working on the project easier? Or are you just updating some part of the codebase that no one touches because it doesn&#39;t look right?</p>
<p>Asking yourself &quot;what can I do right now that will make working on my next task easier or unnecessary&quot; will help you understand which refactoring ideas are valuable and which are less so.</p>
<p>Have you got some refactoring experience that you&#39;d like to share? Need some help with reshaping some code? Get in touch on Twitter <a href="https://twitter.com/mokagio">@mokagio</a>, or leave a comment below.</p>
<p><em>Leave the codebase better than you found it</em></p>
</div><div id="paginator" class="bottom-box clearfixed"><div class="col-6"><div><a href="/blog/action-focused-protocols-enhance-testability"><<&nbsp;Action focused protocols enhance testability</a></div></div><div class="col-6"><div style="text-align: right"><a href="/blog/the-focusing-question">How to get better at setting priorities&nbsp;>></a></div></div></div><div id="subscribe" class="bottom-box"><!-- Begin Sendfox Signup Form -->
<div id="sendfox_embed_signup">
  <h4 class="form_title">Want more of these posts?</h4>
  <p class="form_caption">Subscribe to receive new posts in your inbox.</p>
  <form method="post" action="https://sendfox.com/form/3ee4z3/10r4wg" class="sendfox-form" id="10r4wg" data-async="true" data-recaptcha="true">
    <p><input type="email" placeholder="Email" name="email" class="email" required /></p>
    <!-- no botz please -->
    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="a_password" tabindex="-1" value="" autocomplete="off" /></div>
    <div class="clear"><button type="submit">Sign me up</button></div>
  </form>
  <script src="https://sendfox.com/js/form.js"></script>
</div>
<!-- End Sendfox Signup Form -->
</div><div class="bottom-box"><div id="disqus_thread"></div><script>var disqus_shortname = "mokacoding";
// Neet do add the / at the end to maintain compatibility with previous version
// of the blog that didn't define disqus_url, letting Disqus set it automatically
// using window.location.href
var disqus_url = "https://mokacoding.com/blog/how-to-choose-what-to-refactor/";

(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><noscript>Please enable JavaScript to view the<a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div></div></div></div><div class="row-12 footer"><div class="col-12"><h3><a href="/">mokacoding</a></h3></div><div id="copy" class="col-9"><p>Hi I&#39;m <a href="https://gio.codes">Gio</a> I write here semi-regularly on software testing and TDD, productivity, and iOS development.</p>
<p><a href="mailto:gio+blog@mokacoding.com">Get in touch</a> if you&#39;re interested in working together.</p>
</div><div id="links" class="col-3"><p><i class="fa fa-twitter"></i>&nbsp;<a href="https://twitter.com/mokagio">@mokagio</a></p><p><i class="fa fa-github"></i>&nbsp;<a href="https://github.com/mokagio">mokagio</a></p></div></div></div></body><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-43554041-1', 'auto');
ga('send', 'pageview');
</script><script>var toggle = function(elm){
  var y = elm.style && elm.style.display ? elm.style.display : 'block';
  if (y == 'block'){
    elm.style.opacity='0';
    setTimeout( function(){ elm.style.display = 'none'; }, 300 );
  }
  else {
    elm.style.display='block';
    setTimeout( function(){ elm.style.opacity = '1'; }, 10 );
  }
}

document.getElementById('close').onclick = function(){
  toggle(document.getElementById('sticky-header'));
  toggle(document.getElementById('sticky-header-padding-hack'));
}</script></html>