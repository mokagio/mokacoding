<!DOCTYPE html><html lang="en"><head><title>Git-iquette | mokacoding</title><meta name="description" content="Every team and every project should have a Git-iquette: a set of common practices for managing the git repository."><link href="/css/griddy.css" rel="stylesheet"><link href="/css/style.css" rel="stylesheet"><link href="/css/highlight-obsidian.css" rel="stylesheet"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"></head><body><div class="page"><div class="row-12"><div class="col-12 header"><h1 class="brand"><a href="/">mokacoding</a></h1><div class="punchline">a blog where we blabber on software</div></div><div class="col-12"><div class="post-container"><h2 class="post-title"><a href="/blog/gitiquette">Git-iquette</a></h2><p class="post-meta"><span class="post-date">Sun Feb 15 2015&nbsp;</span><a href="/tag/Git/index.html" class="post-tag">-Git</a></p><div class="post"><p>I&#39;d like to suggest the introduction of a <strong><em>Git-iquette</em></strong> in every project, an etiquette in the version control usage.</p>
<p>I&#39;ve recently started a greenfield project with a new client, with a team bigger than what I&#39;m used to. As a team we discussed a coding styleguide, as set of rules and conventions to apply to both the style we use to code, the architectural choices, and the preferred patterns.</p>
<p>This is a very valuable thing to have, specially for a team. If everybody writes with the same style, it&#39;s gonna be easier for a reader of the code to understand different parts of the system, and to start working on a piece that hasn&#39;t been written by them.</p>
<p>I consider this an application of the <a href="http://en.wikipedia.org/wiki/Principle_of_least_astonishment"><em>&quot;principle of least surprise&quot;</em></a>, the code I&#39;m gonna read is written in the style I&#39;m expecting, and the components in the system follow the same set of rules.</p>
<p>For these reasons having a set of rules on how to check-in code and how to manage the repository is incredibly valuable too.</p>
<p>In his article <a href="http://mislav.uniqpath.com/2014/02/hidden-documentation/">&quot;Every line of code is always documented&quot;</a> Mislav MarohniÄ‡ shows how by using <code>git blame</code> and <code>git show</code> he understood the reasons behind a cryptic line of code, and how important it was for the behaviour of the software.</p>
<p>The repository is the history of the codebase. Some TV shows have a &quot;previously on ...&quot;, that&#39;s the same when we read the <code>git log</code> after a pull, we get up to date with the latest developments of the project.</p>
<p>What we don&#39;t want is a summary of the changes happened while we were away written like this:</p>
<pre><code class="">Doesn<span class="hljs-attribute">'t</span> work!

<span class="hljs-keyword">End</span> <span class="hljs-keyword">of</span> day commit

Checking this <span class="hljs-keyword">in</span> because it<span class="hljs-attribute">'s</span> <span class="hljs-typename">time</span> <span class="hljs-keyword">for</span> a beer
</code></pre><p>Equally bad is getting a single gianormous commit that adds a bug fix, three feature, and removes a bunch of unused files.</p>
<p>So here&#39;s some starting points to use when writing a project&#39;s Git-iquette.</p>
<h2 id="how-to-write-a-git-iquette">How to write a Git-iquette</h2>
<h3 id="short-commits">Short commits</h3>
<p>Commits should be <a href="http://blog.crealytics.com/blog/2010/07/09/5-reasons-keeping-git-commits-small/">small</a> and <a href="http://en.wikipedia.org/wiki/Atomic_commit#Atomic_Commit_Convention">atomic</a>.</p>
<h3 id="title-and-description">Title and description</h3>
<p>The commit message should have a short, less than 50 characters, title, that describes what the has been done in the commit.</p>
<p>If needed, a more detailed description can be written after the title, leaving an empty line between the two.</p>
<p>More tips on how to write a good commit message <a href="http://tbaggery.com/2008/04/19/a-note-about-git-commit-messages.html">here</a>.</p>
<h3 id="commit-title-style">Commit title style</h3>
<p>Given for granted that we all agree on the fact commits should be small and atomic, we need some rules on how to write the commit message.</p>
<p>First of all, which verb to use? When reading a book it&#39;d be confusing if the author kept changing the verbs tense, and the same stands for our <code>git log</code>. Choose a style:</p>
<pre><code class=""><span class="hljs-keyword">Add</span> awesome feature

Adds awesome feature

Added awesome feature
</code></pre><p>They&#39;re all legit and reasonable, the important thing is to be consistent. <em>My preference is to use imperative verbs, because it&#39;s the same thing git does in it&#39;s generated commit messages.</em></p>
<h3 id="merge-vs-rebase">Merge vs Rebase</h3>
<p>Merge vs rebase is an open discussion in the community, and both options have their pros and cons. Again the important thing is to be consistent, and to provide rules on when it&#39;s acceptable to merge instead of reabsing, or vice versa.</p>
<h3 id="special-workflows">Special workflows</h3>
<p>On top of merge vs rebase there are other workflows that can be adopted to manage the version control in an effective way. For example <a href="http://nvie.com/posts/a-successful-git-branching-model/">git-flow</a> makes it simpler to work on features, while the <a href="https://guides.github.com/introduction/flow/">GitHub flow</a> is very good for teams that focus on code reviews.</p>
<p>Evaluate if the team will benefit from using a particular workflow, and make it clear in the Git-iquette.</p>
<h3 id="hooks">Hooks</h3>
<p>Finally there could be useful <a href="http://git-scm.com/book/en/v2/Customizing-Git-Git-Hooks">git hooks</a> to add. Everything that can be automated should be automated!</p>
<h2 id="wrapping-it-all-up">Wrapping it all up</h2>
<p>What&#39;s listed above is just a suggestion on what to take into consideration when writing a Git-iquette, a version control styleguide. The choices proposed are based on what works for me, and they might not work for you. The important takeaway is to have a clear set of guidelines, and to <strong>always be consistent.</strong></p>
<p>If you have suggestions or want to share a Git-iquette that works for you leave a comment below, or tweet me <a href="https://twitter.com/mokagio">@mokagio</a>.</p>
<p><em>Happy version control check-ins</em></p>
</div><div id="paginator" class="bottom-box"><div class="row-12"><div class="col-6"><div><a href="/blog/simpler-calabash-testing-with-rake"><<&nbsp;How to simplify Calabash acceptance testing with Rake</a></div></div><div class="col-6"><div style="text-align: right"><a href="/blog/calabash-ios-with-cocoapods-and-build-configurations">Setting up Calabash for iOS projects with Cocoapods and Build Configurations&nbsp;>></a></div></div></div></div><div class="bottom-box"><div id="disqus_thread"></div><script type="text/javascript" src="/js/disqus.js"></script><noscript>Please enable JavaScript to view the<a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div></div></div></div><div class="row-12 footer"><div class="col-12"><h3><a href="/">mokacoding</a></h3></div><div id="copy" class="col-9"><p>Hi I&#39;m <a href="http://giovannilodi.com">Giovanni Lodi</a> and this is my blog. I write here at least once a month, on software testing, productivity, and iOS development.</p>
<p>I&#39;m a freelance iOS engineer, and <a href="mailto:giovanni.lodi42+blog@gmail.com">I&#39;m available for contract work</a>.</p>
<p>Check out my <a href="http://mokagio.github.io/tech-journal">tech journal</a>, and my app <a href="https://itunes.apple.com/au/app/fineants-savings-tracker/id888444078?mt=8">Fineants</a>.</p>
</div><div id="links" class="col-3"><p>twitter:&nbsp;<a href="https://twitter.com/mokagio">@mokagio</a></p><p>github:&nbsp;<a href="https://github.com/mokagio">mokagio</a></p></div></div></div></body><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-43554041-1', 'auto');
ga('send', 'pageview');</script><script>var external_links = document.querySelectorAll('a:not([href^="/"])');
// external_links is an HTMLCollection, not an Array, so we can't call forEach
for (var i = 0; i < external_links.length; i++) {
  var link = external_links[i];
  link.setAttribute("target", "_blank");
}</script></html>